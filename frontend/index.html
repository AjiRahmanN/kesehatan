<!-- index.html -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Health App — BMI</title>
  <style>
    body{font-family:system-ui,Arial;max-width:640px;margin:40px auto;padding:0 16px}
    label{display:block;margin-top:12px}
    input{padding:8px;width:100%;box-sizing:border-box}
    button{margin-top:12px;padding:10px 16px}
    .result{margin-top:16px;padding:12px;background:#f3f3f3;border-radius:8px}
  </style>
</head>
<body>
  <h1>Health App — Kalkulator BMI</h1>
  <label>Tinggi (cm)<input id="height" type="number" /></label>
  <label>Berat (kg)<input id="weight" type="number" /></label>
  <label>Usia<input id="age" type="number" /></label>
  <button id="submit">Hitung & Kirim</button>

  <div class="result" id="result" style="display:none;"></div>

<script>
document.getElementById('submit').onclick = async () => {
  const height = Number(document.getElementById('height').value);
  const weight = Number(document.getElementById('weight').value);
  const age = Number(document.getElementById('age').value);
  if(!height || !weight) return alert('Isi tinggi dan berat');

  const resp = await fetch('/api/bmi', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({height, weight, age})
  });
  if(!resp.ok){ alert('Error: '+resp.status); return; }
  const data = await resp.json();
  document.getElementById('result').style.display='block';
  document.getElementById('result').innerText = 
    `BMI: ${data.bmi.toFixed(2)} (${data.category})\nMessage: ${data.message}`;
};
</script>
</body>
</html>

